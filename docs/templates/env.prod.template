# ==============================================================================
# PRODUCTION ENVIRONMENT TEMPLATE
# ==============================================================================
#
# Copy this file to .env for production deployment:
#   $ cp .env.prod.template .env
#
# CRITICAL: Fill in ALL secrets before deploying!
# Never deploy with placeholder values.
#
# ==============================================================================

# Environment & Debug
ENV=prod
DEBUG=false  # NEVER true in production

# GPT Configuration
# REQUIRED: Add your production OpenAI API key
OPENAI_API_KEY=

GPT_MODEL_NAME=gpt-5
GPT_DEFAULT_REASONING_EFFORT=medium
GPT_DEFAULT_VERBOSITY=medium
GPT_MAX_TOKENS=4096

# Reasoning System
ENABLE_DYNAMIC_REASONING=true
REASONING_MINIMAL_TIMEOUT=5
REASONING_LOW_TIMEOUT=15
REASONING_MEDIUM_TIMEOUT=30
REASONING_HIGH_TIMEOUT=60
TRIGGER_PHRASES="think harder,deep dive,analyze carefully,be thorough"
COMPLEXITY_THRESHOLD_HIGH=0.8
COMPLEXITY_THRESHOLD_MEDIUM=0.5

# Token Conservation
ENABLE_RESPONSE_CHAINING=true
MAX_CHAIN_LENGTH=3
ENABLE_CONTEXT_COMPRESSION=true

# External AI Services
# REQUIRED: Add your Perplexity API key
PERPLEXITY_API_KEY=

# Monitoring & Tracing
# REQUIRED: Add your LangSmith API key for production monitoring
LANGSMITH_API_KEY=
LANGSMITH_PROJECT=deep-agent-agi-prod
LANGSMITH_ENDPOINT=https://api.smith.langchain.com
LANGSMITH_TRACING_V2=true

# Prompt Optimization (Phase 1)
OPIK_API_KEY=
OPIK_WORKSPACE=
OPIK_PROJECT=deep-agent-prod

# Database (Phase 1 - production database)
# REQUIRED: Add your production PostgreSQL URL
DATABASE_URL=
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_DB=deep_agent_agi_prod
ENABLE_PGVECTOR=true

# Checkpointer
CHECKPOINT_DB_PATH=data/checkpoints.db
CHECKPOINT_CLEANUP_DAYS=30  # Longer retention for prod

# Streaming Configuration
STREAM_VERSION=v2
STREAM_ALLOWED_EVENTS=on_chat_model_stream,on_chat_model_end,on_tool_start,on_tool_end,on_tool_call_start,on_tool_call_end,on_chain_start,on_chain_end,on_llm_start,on_llm_end
STREAM_TIMEOUT_SECONDS=180  # 3 minutes (production SLA)
TOOL_EXECUTION_TIMEOUT=45
WEB_SEARCH_TIMEOUT=30
MAX_TOOL_CALLS_PER_INVOCATION=6

# WebSocket & Event Processing
HEARTBEAT_INTERVAL_SECONDS=5
EVENT_QUEUE_TIMEOUT_SECONDS=1.0
CHECKPOINT_GRACE_PERIOD_SECONDS=5.0

# Redis (Phase 2 - production cache)
# REQUIRED: Add your Redis URL and password
REDIS_URL=
REDIS_PASSWORD=
CACHE_TTL=3600

# FastAPI Backend
API_HOST=0.0.0.0  # All interfaces for container/cloud
API_PORT=8000
API_RELOAD=false  # NEVER true in production
CORS_ORIGINS=https://yourdomain.com  # REQUIRED: Update with your domain
API_VERSION=v1

# Frontend Configuration
# REQUIRED: Update with your production domain
NEXT_PUBLIC_API_URL=https://api.yourdomain.com
NEXT_PUBLIC_WS_URL=wss://api.yourdomain.com
NEXT_PUBLIC_ENABLE_REASONING_UI=false  # Hide internal details from users

# MCP Servers
PLAYWRIGHT_HEADLESS=true
PLAYWRIGHT_BROWSERS_PATH=/app/.cache/ms-playwright  # Container path
MCP_PERPLEXITY_TIMEOUT=30
MCP_PLAYWRIGHT_TIMEOUT=60

# Security
# REQUIRED: Generate secure keys with: openssl rand -hex 32
SECRET_KEY=
JWT_SECRET=
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
BCRYPT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_REQUESTS=1000  # Scale up for production load
RATE_LIMIT_PERIOD=3600
RATE_LIMIT_REASONING_HIGH=50  # More generous for prod users
RATE_LIMIT_REASONING_PERIOD=3600

# TheAuditor Security
AUDITOR_ENABLED=true
AUDITOR_AUTO_SCAN=false
AUDITOR_SCAN_ON_DEPLOY=true  # Scan before every deployment

# Logging
LOG_LEVEL=ERROR  # Minimal logging for production
LOG_FORMAT=json  # Structured logs for aggregation
ENABLE_STRUCTURED_LOGGING=true
LOG_REASONING_DECISIONS=false  # Don't log in prod (PII concerns)

# Performance
MAX_CONCURRENT_REQUESTS=100  # Scale for production load
REQUEST_TIMEOUT=300
REASONING_QUEUE_SIZE=20  # Larger queue for prod
ENABLE_ASYNC_PROCESSING=true

# Feature Flags
ENABLE_HITL=true
ENABLE_SUB_AGENTS=true
ENABLE_RESEARCH_MODE=false
ENABLE_COST_TRACKING=true
ENABLE_MEMORY_SYSTEM=false  # Phase 1

# Development Tools
ENABLE_DEBUG_TOOLBAR=false  # NEVER true in production
ENABLE_PROFILING=false
MOCK_EXTERNAL_APIS=false

# Replit (if deploying to Replit)
REPL_SLUG=deep-agent-agi-prod
REPL_OWNER=your_username

# ==============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ==============================================================================
#
# Before deploying, verify:
# ✓ All required secrets filled in (no placeholders)
# ✓ OPENAI_API_KEY set
# ✓ DATABASE_URL set (if using Phase 1 features)
# ✓ CORS_ORIGINS updated with your domain
# ✓ NEXT_PUBLIC_API_URL updated with your domain
# ✓ SECRET_KEY and JWT_SECRET generated (openssl rand -hex 32)
# ✓ DEBUG=false
# ✓ API_RELOAD=false
# ✓ LOG_LEVEL=ERROR or WARNING
# ✓ ENABLE_DEBUG_TOOLBAR=false
# ✓ ENABLE_PROFILING=false
# ✓ MOCK_EXTERNAL_APIS=false
# ✓ Run security scan: ./scripts/security_scan.sh
# ✓ Run validation: python scripts/validate_config.py
#
# ==============================================================================
